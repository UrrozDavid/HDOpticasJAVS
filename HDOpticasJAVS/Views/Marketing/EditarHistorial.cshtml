@model HDOpticasJAVS.Models.ViewModels.CampaniaMarketingViewModel
@{
    ViewBag.Title = "Editar Campaña de Marketing";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card mt-4 shadow-lg rounded-4 bg-dark text-white">
    <div class="card-header bg-primary text-white text-center rounded-top-4">
        <h4 class="fw-bold mb-0">Editar Campaña de Marketing</h4>
    </div>

    <div class="card-body">

        @if (TempData["Mensaje"] != null)
        {
            var mensaje = TempData["Mensaje"].ToString();
            var esError = mensaje.Contains("⚠️");
            <div class="alert @(esError ? "alert-warning" : "alert-success") mt-2">
                @mensaje
            </div>
        }

        @using (Html.BeginForm("EditarHistorial", "Marketing", FormMethod.Post))
        {
            @Html.HiddenFor(m => m.Id_Campania)

            <div class="mb-3">
                @Html.LabelFor(m => m.Nombre_Campania)
                @Html.TextBoxFor(m => m.Nombre_Campania, new { @class = "form-control bg-light text-dark" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Descripcion)
                @Html.TextAreaFor(m => m.Descripcion, new { @class = "form-control bg-light text-dark", rows = 3 })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Tipo)
                @Html.TextBoxFor(m => m.Tipo, new { @class = "form-control bg-light text-dark" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Fecha_Inicio)
                @Html.TextBoxFor(m => m.Fecha_Inicio, "{0:yyyy-MM-dd}", new { @class = "form-control bg-light text-dark", type = "date" })
            </div>

            <div class="mb-4">
                @Html.LabelFor(m => m.Fecha_Programada, "Fecha Programada (opcional)")
                @Html.TextBoxFor(m => m.Fecha_Programada, "{0:yyyy-MM-dd}", new { @class = "form-control bg-light text-dark", type = "date" })
            </div>

            <button type="submit" class="btn btn-success fw-semibold">Guardar Cambios</button>
            <a href="@Url.Action("Historial", "Marketing")" class="btn btn-outline-light fw-semibold">Cancelar</a>
        }
    </div>
</div>
