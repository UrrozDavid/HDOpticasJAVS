@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">
    <h2 class="fw-bold" style="font-family: 'Poppins', sans-serif;">@ViewBag.Title</h2>

    <div class="row">
        <!-- Estado General -->
        <div class="col-md-4">
            <div class="card shadow-lg p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.75); color: #F1E0C6; border-radius: 15px;">
                <h5 style="font-family: Raleway; color: #00B5E2;">Estado General</h5>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div class="d-flex align-items-center">
                        <div class="badge bg-success p-2">Ventas Activas</div>
                        <h4 class="ml-2">456</h4>
                    </div>
                    <div class="d-flex align-items-center">
                        <div class="badge bg-danger p-2">Deudas Pendientes</div>
                        <h4 class="ml-2">120</h4>
                    </div>
                </div>
                <p style="font-family: Roboto;">Este es un resumen general del estado de las operaciones del negocio. Aquí puedes ver ventas activas y deudas pendientes.</p>
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        </div>

        <!-- Notificaciones -->
        <div class="col-md-4">
            <div class="card shadow-lg p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.75); color: #F1E0C6; border-radius: 15px;">
                <h5 style="font-family: Raleway; color: #FF7043;">Notificaciones</h5>
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Cita pendiente con el cliente Juan Pérez
                        <span class="badge bg-warning text-dark">Hoy</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Pedido #1243 en espera de confirmación
                        <span class="badge bg-info text-dark">2 días</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Tarea urgente para el equipo de ventas
                        <span class="badge bg-danger text-white">Urgente</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Reportes Financieros -->
        <div class="col-md-4">
            <div class="card shadow-lg p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.75); color: #F1E0C6; border-radius: 15px;">
                <h5 style="font-family: Raleway; color: #1A73E8;">Reportes Financieros</h5>
                <div class="d-flex justify-content-between">
                    <div>
                        <h3 class="fw-bold" style="font-family: Raleway;">$5,324</h3>
                        <p>Total de Ventas del Mes</p>
                    </div>
                    <div>
                        <h3 class="fw-bold" style="font-family: Raleway;">$1,120</h3>
                        <p>Total de Gastos del Mes</p>
                    </div>
                </div>
                <div class="my-4">
                    <canvas id="salesChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Gráficos de datos -->
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow-lg p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.75); color: #F1E0C6; border-radius: 15px;">
                <h5 style="font-family: Raleway; color: #00B5E2;">Desempeño de Ventas</h5>
                <div class="my-4">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow-lg p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.75); color: #F1E0C6; border-radius: 15px;">
                <h5 style="font-family: Raleway; color: #FF7043;">Gastos vs Ingresos</h5>
                <div class="my-4">
                    <canvas id="expensesChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Gráfico de Ventas
        var ctx1 = document.getElementById('salesChart').getContext('2d');
        var salesChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                datasets: [{
                    label: 'Ventas Totales',
                    data: [5000, 7000, 6000, 8000, 10000, 11000],
                    borderColor: 'rgba(75, 192, 192, 1)',
                    tension: 0.1,
                    fill: false
                }]
            }
        });

        // Gráfico de Desempeño
        var ctx2 = document.getElementById('performanceChart').getContext('2d');
        var performanceChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                datasets: [{
                    label: 'Desempeño de Ventas',
                    data: [90, 85, 88, 92, 95, 97],
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            }
        });

        // Gráfico de Gastos vs Ingresos
        var ctx3 = document.getElementById('expensesChart').getContext('2d');
        var expensesChart = new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Gastos', 'Ingresos'],
                datasets: [{
                    label: 'Gastos vs Ingresos',
                    data: [1120, 5324],
                    backgroundColor: ['#FF7043', '#1A73E8'],
                    borderColor: '#fff',
                    borderWidth: 1
                }]
            }
        });
    </script>
}